{"ast":null,"code":"var _jsxFileName = \"C:\\\\Netflix_clone2\\\\home\\\\ubuntu\\\\Netflix-clone\\\\src\\\\components\\\\InfiniteMovieRow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\nimport ImageWithFallback from './ImageWithFallback';\nimport './InfiniteMovieRow.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InfiniteMovieRow = ({\n  title,\n  genreLink,\n  movies,\n  fetchMoreMovies\n}) => {\n  _s();\n  const sliderRef = useRef(null);\n  const observerRef = useRef(null);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [hoveredMovie, setHoveredMovie] = useState(null);\n  const [hoverTimeout, setHoverTimeout] = useState(null);\n  const [canScrollLeft, setCanScrollLeft] = useState(false);\n  const [canScrollRight, setCanScrollRight] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [visibleItems, setVisibleItems] = useState(new Set());\n  const [allMovies, setAllMovies] = useState(movies);\n  const itemsPerPage = 6;\n  const totalPages = Math.ceil(allMovies.length / itemsPerPage);\n\n  // Intersection Observer for lazy loading and animations\n  useEffect(() => {\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          const index = parseInt(entry.target.dataset.index);\n          setVisibleItems(prev => new Set([...prev, index]));\n        }\n      });\n    }, {\n      threshold: 0.1,\n      rootMargin: '50px'\n    });\n    observerRef.current = observer;\n    return () => {\n      if (observerRef.current) {\n        observerRef.current.disconnect();\n      }\n    };\n  }, []);\n\n  // Observe movie items when they're rendered\n  useEffect(() => {\n    if (sliderRef.current && observerRef.current) {\n      const items = sliderRef.current.querySelectorAll('.infinite-slider-item');\n      items.forEach(item => {\n        observerRef.current.observe(item);\n      });\n    }\n  }, [allMovies]);\n\n  // Load more movies when reaching the end\n  const loadMoreMovies = useCallback(async () => {\n    if (isLoading || !fetchMoreMovies) return;\n    setIsLoading(true);\n    try {\n      const newMovies = await fetchMoreMovies();\n      setAllMovies(prev => [...prev, ...newMovies]);\n    } catch (error) {\n      console.error('Failed to load more movies:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [isLoading, fetchMoreMovies]);\n\n  // Check if we need to load more movies\n  useEffect(() => {\n    const handleScroll = () => {\n      if (!sliderRef.current) return;\n      const {\n        scrollLeft,\n        scrollWidth,\n        clientWidth\n      } = sliderRef.current;\n      const scrollPercentage = (scrollLeft + clientWidth) / scrollWidth;\n\n      // Load more when 80% scrolled\n      if (scrollPercentage > 0.8 && !isLoading) {\n        loadMoreMovies();\n      }\n      updateScrollButtons();\n      updateCurrentPage();\n    };\n    const slider = sliderRef.current;\n    if (slider) {\n      slider.addEventListener('scroll', handleScroll);\n      return () => slider.removeEventListener('scroll', handleScroll);\n    }\n  }, [loadMoreMovies, isLoading]);\n  const updateScrollButtons = () => {\n    if (!sliderRef.current) return;\n    const {\n      scrollLeft,\n      scrollWidth,\n      clientWidth\n    } = sliderRef.current;\n    setCanScrollLeft(scrollLeft > 0);\n    setCanScrollRight(scrollLeft < scrollWidth - clientWidth - 10);\n  };\n  const updateCurrentPage = () => {\n    if (!sliderRef.current) return;\n    const item = sliderRef.current.querySelector('.infinite-slider-item');\n    if (!item) return;\n    const scrollLeft = sliderRef.current.scrollLeft;\n    const page = Math.floor(scrollLeft / (item.clientWidth * itemsPerPage));\n    setCurrentPage(Math.min(page, totalPages - 1));\n  };\n  const scrollSlider = direction => {\n    if (!sliderRef.current) return;\n    const item = sliderRef.current.querySelector('.infinite-slider-item');\n    if (!item) return;\n    const scrollAmount = item.clientWidth * itemsPerPage;\n    const currentScroll = sliderRef.current.scrollLeft;\n    let targetScroll;\n    if (direction === 'left') {\n      targetScroll = Math.max(currentScroll - scrollAmount, 0);\n    } else {\n      targetScroll = currentScroll + scrollAmount;\n    }\n\n    // Smooth scroll with custom easing\n    const startTime = performance.now();\n    const duration = 500;\n    const startScroll = currentScroll;\n    const distance = targetScroll - startScroll;\n    const easeInOutCubic = t => {\n      return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n    };\n    const animateScroll = currentTime => {\n      const elapsed = currentTime - startTime;\n      const progress = Math.min(elapsed / duration, 1);\n      const easedProgress = easeInOutCubic(progress);\n      sliderRef.current.scrollLeft = startScroll + distance * easedProgress;\n      if (progress < 1) {\n        requestAnimationFrame(animateScroll);\n      }\n    };\n    requestAnimationFrame(animateScroll);\n  };\n  const handleMouseEnter = (movie, index) => {\n    if (hoverTimeout) {\n      clearTimeout(hoverTimeout);\n    }\n    const timeout = setTimeout(() => {\n      setHoveredMovie({\n        ...movie,\n        index\n      });\n    }, 300);\n    setHoverTimeout(timeout);\n  };\n  const handleMouseLeave = () => {\n    if (hoverTimeout) {\n      clearTimeout(hoverTimeout);\n    }\n    const timeout = setTimeout(() => {\n      setHoveredMovie(null);\n    }, 200);\n    setHoverTimeout(timeout);\n  };\n  const handlePlayClick = movie => {\n    console.log('Playing:', movie.title);\n  };\n  const handleAddToList = movie => {\n    console.log('Added to list:', movie.title);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"infinite-lolomoRow\",\n    \"data-list-context\": \"genre\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"infinite-rowHeader\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: genreLink,\n        className: \"infinite-rowTitle\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"infinite-row-header-title\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"infinite-aro-row-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"infinite-see-all-link\",\n            children: \"Explore All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"infinite-aro-row-chevron\",\n            children: \"\\u203A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"infinite-pagination-indicator\",\n        children: Array.from({\n          length: Math.min(totalPages, 10)\n        }).map((_, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: idx === currentPage ? \"active\" : \"\"\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"infinite-rowContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"infinite-rowContent\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"infinite-slider\",\n          children: [canScrollLeft && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"infinite-handle infinite-handlePrev\",\n            onClick: () => scrollSlider('left'),\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"infinite-indicator-icon\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M15 18l-6-6 6-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"infinite-sliderMask\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"infinite-sliderContent\",\n              ref: sliderRef,\n              children: [allMovies.map((movie, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                \"data-index\": index,\n                className: `infinite-slider-item ${visibleItems.has(index) ? 'visible' : ''} ${(hoveredMovie === null || hoveredMovie === void 0 ? void 0 : hoveredMovie.index) === index ? 'hovered' : ''}`,\n                onMouseEnter: () => handleMouseEnter(movie, index),\n                onMouseLeave: handleMouseLeave,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"infinite-title-card-container\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"infinite-title-card\",\n                    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                      href: movie.link,\n                      className: \"infinite-slider-refocus\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"infinite-boxart-container\",\n                        children: [/*#__PURE__*/_jsxDEV(ImageWithFallback, {\n                          className: \"infinite-boxart-image\",\n                          src: movie.image,\n                          alt: movie.title,\n                          fallbackText: movie.title,\n                          loading: \"lazy\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 234,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"infinite-image-overlay\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 241,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 233,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 25\n                    }, this), (hoveredMovie === null || hoveredMovie === void 0 ? void 0 : hoveredMovie.index) === index && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"infinite-hover-card\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"infinite-hover-image\",\n                        children: [/*#__PURE__*/_jsxDEV(ImageWithFallback, {\n                          src: movie.image,\n                          alt: movie.title,\n                          fallbackText: movie.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 249,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"infinite-hover-play-btn\",\n                          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                            viewBox: \"0 0 24 24\",\n                            children: /*#__PURE__*/_jsxDEV(\"path\", {\n                              d: \"M8 5v14l11-7z\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 256,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 255,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 254,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 248,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"infinite-hover-content\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"infinite-hover-actions\",\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"infinite-action-btn infinite-play-btn\",\n                            onClick: () => handlePlayClick(movie),\n                            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                              viewBox: \"0 0 24 24\",\n                              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                                d: \"M8 5v14l11-7z\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 268,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 267,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 263,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"infinite-action-btn infinite-add-btn\",\n                            onClick: () => handleAddToList(movie),\n                            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                              viewBox: \"0 0 24 24\",\n                              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                                d: \"M12 5v14M5 12h14\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 277,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 276,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 272,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"infinite-action-btn infinite-like-btn\",\n                            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                              viewBox: \"0 0 24 24\",\n                              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                                d: \"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 283,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 282,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 281,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"infinite-action-btn infinite-dropdown-btn\",\n                            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                              viewBox: \"0 0 24 24\",\n                              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                                d: \"M6 9l6 6 6-6\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 289,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 288,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 287,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 262,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"infinite-hover-info\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"infinite-hover-match\",\n                            children: /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"infinite-match-score\",\n                              children: [movie.match || '98', \"% Match\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 296,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 295,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"infinite-hover-metadata\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"infinite-hover-rating\",\n                              children: movie.rating || 'TV-MA'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 300,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"infinite-hover-year\",\n                              children: movie.year || '2023'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 301,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"infinite-hover-quality\",\n                              children: \"HD\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 302,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 299,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"infinite-hover-genres\",\n                            children: (movie.genres || ['Action', 'Drama', 'Thriller']).map((genre, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"infinite-genre-tag\",\n                              children: genre\n                            }, idx, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 307,\n                              columnNumber: 37\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 305,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 294,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 261,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 27\n                    }, this), (hoveredMovie === null || hoveredMovie === void 0 ? void 0 : hoveredMovie.index) !== index && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"infinite-simple-overlay\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"infinite-simple-title\",\n                        children: movie.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 320,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 21\n                }, this)\n              }, `${movie.title}-${index}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"infinite-loading-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"infinite-loading-spinner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), canScrollRight && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"infinite-handle infinite-handleNext\",\n            onClick: () => scrollSlider('right'),\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"infinite-indicator-icon\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M9 18l6-6-6-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this);\n};\n_s(InfiniteMovieRow, \"YpjUbJnsOuAQUAutEjnvM7lmbJI=\");\n_c = InfiniteMovieRow;\nexport default InfiniteMovieRow;\nvar _c;\n$RefreshReg$(_c, \"InfiniteMovieRow\");","map":{"version":3,"names":["React","useRef","useState","useEffect","useCallback","ImageWithFallback","jsxDEV","_jsxDEV","InfiniteMovieRow","title","genreLink","movies","fetchMoreMovies","_s","sliderRef","observerRef","currentPage","setCurrentPage","hoveredMovie","setHoveredMovie","hoverTimeout","setHoverTimeout","canScrollLeft","setCanScrollLeft","canScrollRight","setCanScrollRight","isLoading","setIsLoading","visibleItems","setVisibleItems","Set","allMovies","setAllMovies","itemsPerPage","totalPages","Math","ceil","length","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","index","parseInt","target","dataset","prev","threshold","rootMargin","current","disconnect","items","querySelectorAll","item","observe","loadMoreMovies","newMovies","error","console","handleScroll","scrollLeft","scrollWidth","clientWidth","scrollPercentage","updateScrollButtons","updateCurrentPage","slider","addEventListener","removeEventListener","querySelector","page","floor","min","scrollSlider","direction","scrollAmount","currentScroll","targetScroll","max","startTime","performance","now","duration","startScroll","distance","easeInOutCubic","t","animateScroll","currentTime","elapsed","progress","easedProgress","requestAnimationFrame","handleMouseEnter","movie","clearTimeout","timeout","setTimeout","handleMouseLeave","handlePlayClick","log","handleAddToList","className","children","href","fileName","_jsxFileName","lineNumber","columnNumber","Array","from","map","_","idx","onClick","viewBox","d","ref","has","onMouseEnter","onMouseLeave","link","src","image","alt","fallbackText","loading","match","rating","year","genres","genre","_c","$RefreshReg$"],"sources":["C:/Netflix_clone2/home/ubuntu/Netflix-clone/src/components/InfiniteMovieRow.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect, useCallback } from 'react';\nimport ImageWithFallback from './ImageWithFallback';\nimport './InfiniteMovieRow.css';\n\nconst InfiniteMovieRow = ({ title, genreLink, movies, fetchMoreMovies }) => {\n  const sliderRef = useRef(null);\n  const observerRef = useRef(null);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [hoveredMovie, setHoveredMovie] = useState(null);\n  const [hoverTimeout, setHoverTimeout] = useState(null);\n  const [canScrollLeft, setCanScrollLeft] = useState(false);\n  const [canScrollRight, setCanScrollRight] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [visibleItems, setVisibleItems] = useState(new Set());\n  const [allMovies, setAllMovies] = useState(movies);\n\n  const itemsPerPage = 6;\n  const totalPages = Math.ceil(allMovies.length / itemsPerPage);\n\n  // Intersection Observer for lazy loading and animations\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            const index = parseInt(entry.target.dataset.index);\n            setVisibleItems(prev => new Set([...prev, index]));\n          }\n        });\n      },\n      {\n        threshold: 0.1,\n        rootMargin: '50px'\n      }\n    );\n\n    observerRef.current = observer;\n\n    return () => {\n      if (observerRef.current) {\n        observerRef.current.disconnect();\n      }\n    };\n  }, []);\n\n  // Observe movie items when they're rendered\n  useEffect(() => {\n    if (sliderRef.current && observerRef.current) {\n      const items = sliderRef.current.querySelectorAll('.infinite-slider-item');\n      items.forEach((item) => {\n        observerRef.current.observe(item);\n      });\n    }\n  }, [allMovies]);\n\n  // Load more movies when reaching the end\n  const loadMoreMovies = useCallback(async () => {\n    if (isLoading || !fetchMoreMovies) return;\n    \n    setIsLoading(true);\n    try {\n      const newMovies = await fetchMoreMovies();\n      setAllMovies(prev => [...prev, ...newMovies]);\n    } catch (error) {\n      console.error('Failed to load more movies:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [isLoading, fetchMoreMovies]);\n\n  // Check if we need to load more movies\n  useEffect(() => {\n    const handleScroll = () => {\n      if (!sliderRef.current) return;\n      \n      const { scrollLeft, scrollWidth, clientWidth } = sliderRef.current;\n      const scrollPercentage = (scrollLeft + clientWidth) / scrollWidth;\n      \n      // Load more when 80% scrolled\n      if (scrollPercentage > 0.8 && !isLoading) {\n        loadMoreMovies();\n      }\n      \n      updateScrollButtons();\n      updateCurrentPage();\n    };\n\n    const slider = sliderRef.current;\n    if (slider) {\n      slider.addEventListener('scroll', handleScroll);\n      return () => slider.removeEventListener('scroll', handleScroll);\n    }\n  }, [loadMoreMovies, isLoading]);\n\n  const updateScrollButtons = () => {\n    if (!sliderRef.current) return;\n    const { scrollLeft, scrollWidth, clientWidth } = sliderRef.current;\n    setCanScrollLeft(scrollLeft > 0);\n    setCanScrollRight(scrollLeft < scrollWidth - clientWidth - 10);\n  };\n\n  const updateCurrentPage = () => {\n    if (!sliderRef.current) return;\n    const item = sliderRef.current.querySelector('.infinite-slider-item');\n    if (!item) return;\n    const scrollLeft = sliderRef.current.scrollLeft;\n    const page = Math.floor(scrollLeft / (item.clientWidth * itemsPerPage));\n    setCurrentPage(Math.min(page, totalPages - 1));\n  };\n\n  const scrollSlider = (direction) => {\n    if (!sliderRef.current) return;\n    const item = sliderRef.current.querySelector('.infinite-slider-item');\n    if (!item) return;\n    \n    const scrollAmount = item.clientWidth * itemsPerPage;\n    const currentScroll = sliderRef.current.scrollLeft;\n    \n    let targetScroll;\n    if (direction === 'left') {\n      targetScroll = Math.max(currentScroll - scrollAmount, 0);\n    } else {\n      targetScroll = currentScroll + scrollAmount;\n    }\n\n    // Smooth scroll with custom easing\n    const startTime = performance.now();\n    const duration = 500;\n    const startScroll = currentScroll;\n    const distance = targetScroll - startScroll;\n\n    const easeInOutCubic = (t) => {\n      return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n    };\n\n    const animateScroll = (currentTime) => {\n      const elapsed = currentTime - startTime;\n      const progress = Math.min(elapsed / duration, 1);\n      const easedProgress = easeInOutCubic(progress);\n      \n      sliderRef.current.scrollLeft = startScroll + (distance * easedProgress);\n      \n      if (progress < 1) {\n        requestAnimationFrame(animateScroll);\n      }\n    };\n\n    requestAnimationFrame(animateScroll);\n  };\n\n  const handleMouseEnter = (movie, index) => {\n    if (hoverTimeout) {\n      clearTimeout(hoverTimeout);\n    }\n    const timeout = setTimeout(() => {\n      setHoveredMovie({ ...movie, index });\n    }, 300);\n    setHoverTimeout(timeout);\n  };\n\n  const handleMouseLeave = () => {\n    if (hoverTimeout) {\n      clearTimeout(hoverTimeout);\n    }\n    const timeout = setTimeout(() => {\n      setHoveredMovie(null);\n    }, 200);\n    setHoverTimeout(timeout);\n  };\n\n  const handlePlayClick = (movie) => {\n    console.log('Playing:', movie.title);\n  };\n\n  const handleAddToList = (movie) => {\n    console.log('Added to list:', movie.title);\n  };\n\n  return (\n    <div className=\"infinite-lolomoRow\" data-list-context=\"genre\">\n      <h2 className=\"infinite-rowHeader\">\n        <a href={genreLink} className=\"infinite-rowTitle\">\n          <div className=\"infinite-row-header-title\">{title}</div>\n          <div className=\"infinite-aro-row-header\">\n            <div className=\"infinite-see-all-link\">Explore All</div>\n            <div className=\"infinite-aro-row-chevron\">›</div>\n          </div>\n        </a>\n        <ul className=\"infinite-pagination-indicator\">\n          {Array.from({ length: Math.min(totalPages, 10) }).map((_, idx) => (\n            <li key={idx} className={idx === currentPage ? \"active\" : \"\"}></li>\n          ))}\n        </ul>\n      </h2>\n      \n      <div className=\"infinite-rowContainer\">\n        <div className=\"infinite-rowContent\">\n          <div className=\"infinite-slider\">\n            {/* Left Arrow */}\n            {canScrollLeft && (\n              <span\n                className=\"infinite-handle infinite-handlePrev\"\n                onClick={() => scrollSlider('left')}\n              >\n                <svg className=\"infinite-indicator-icon\" viewBox=\"0 0 24 24\">\n                  <path d=\"M15 18l-6-6 6-6\"/>\n                </svg>\n              </span>\n            )}\n            \n            {/* Carousel */}\n            <div className=\"infinite-sliderMask\">\n              <div\n                className=\"infinite-sliderContent\"\n                ref={sliderRef}\n              >\n                {allMovies.map((movie, index) => (\n                  <div \n                    key={`${movie.title}-${index}`}\n                    data-index={index}\n                    className={`infinite-slider-item ${\n                      visibleItems.has(index) ? 'visible' : ''\n                    } ${hoveredMovie?.index === index ? 'hovered' : ''}`}\n                    onMouseEnter={() => handleMouseEnter(movie, index)}\n                    onMouseLeave={handleMouseLeave}\n                  >\n                    <div className=\"infinite-title-card-container\">\n                      <div className=\"infinite-title-card\">\n                        <a\n                          href={movie.link}\n                          className=\"infinite-slider-refocus\"\n                        >\n                          <div className=\"infinite-boxart-container\">\n                            <ImageWithFallback\n                              className=\"infinite-boxart-image\"\n                              src={movie.image}\n                              alt={movie.title}\n                              fallbackText={movie.title}\n                              loading=\"lazy\"\n                            />\n                            <div className=\"infinite-image-overlay\"></div>\n                          </div>\n                        </a>\n                        \n                        {/* Enhanced Hover Card */}\n                        {hoveredMovie?.index === index && (\n                          <div className=\"infinite-hover-card\">\n                            <div className=\"infinite-hover-image\">\n                              <ImageWithFallback \n                                src={movie.image} \n                                alt={movie.title}\n                                fallbackText={movie.title}\n                              />\n                              <div className=\"infinite-hover-play-btn\">\n                                <svg viewBox=\"0 0 24 24\">\n                                  <path d=\"M8 5v14l11-7z\"/>\n                                </svg>\n                              </div>\n                            </div>\n                            \n                            <div className=\"infinite-hover-content\">\n                              <div className=\"infinite-hover-actions\">\n                                <button \n                                  className=\"infinite-action-btn infinite-play-btn\"\n                                  onClick={() => handlePlayClick(movie)}\n                                >\n                                  <svg viewBox=\"0 0 24 24\">\n                                    <path d=\"M8 5v14l11-7z\"/>\n                                  </svg>\n                                </button>\n                                \n                                <button \n                                  className=\"infinite-action-btn infinite-add-btn\"\n                                  onClick={() => handleAddToList(movie)}\n                                >\n                                  <svg viewBox=\"0 0 24 24\">\n                                    <path d=\"M12 5v14M5 12h14\"/>\n                                  </svg>\n                                </button>\n                                \n                                <button className=\"infinite-action-btn infinite-like-btn\">\n                                  <svg viewBox=\"0 0 24 24\">\n                                    <path d=\"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3\"/>\n                                  </svg>\n                                </button>\n                                \n                                <button className=\"infinite-action-btn infinite-dropdown-btn\">\n                                  <svg viewBox=\"0 0 24 24\">\n                                    <path d=\"M6 9l6 6 6-6\"/>\n                                  </svg>\n                                </button>\n                              </div>\n                              \n                              <div className=\"infinite-hover-info\">\n                                <div className=\"infinite-hover-match\">\n                                  <span className=\"infinite-match-score\">{movie.match || '98'}% Match</span>\n                                </div>\n                                \n                                <div className=\"infinite-hover-metadata\">\n                                  <span className=\"infinite-hover-rating\">{movie.rating || 'TV-MA'}</span>\n                                  <span className=\"infinite-hover-year\">{movie.year || '2023'}</span>\n                                  <span className=\"infinite-hover-quality\">HD</span>\n                                </div>\n                                \n                                <div className=\"infinite-hover-genres\">\n                                  {(movie.genres || ['Action', 'Drama', 'Thriller']).map((genre, idx) => (\n                                    <span key={idx} className=\"infinite-genre-tag\">\n                                      {genre}\n                                    </span>\n                                  ))}\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        )}\n                        \n                        {/* Simple Title Overlay for Non-Hovered Items */}\n                        {hoveredMovie?.index !== index && (\n                          <div className=\"infinite-simple-overlay\">\n                            <p className=\"infinite-simple-title\">{movie.title}</p>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n                \n                {/* Loading indicator */}\n                {isLoading && (\n                  <div className=\"infinite-loading-container\">\n                    <div className=\"infinite-loading-spinner\"></div>\n                  </div>\n                )}\n              </div>\n            </div>\n            \n            {/* Right Arrow */}\n            {canScrollRight && (\n              <span\n                className=\"infinite-handle infinite-handleNext\"\n                onClick={() => scrollSlider('right')}\n              >\n                <svg className=\"infinite-indicator-icon\" viewBox=\"0 0 24 24\">\n                  <path d=\"M9 18l6-6-6-6\"/>\n                </svg>\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InfiniteMovieRow;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}